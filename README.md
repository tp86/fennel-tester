# fennel-tester
Simple unit testing framework for Fennel.

## Dependencies
- Lua 5.2+
- Luarocks
- luaunit
- luacov (optional really, but installed when using `./tester setup` command)
- luafilesystem

## Usage

First, copy `tester.fnl` and `tester-macros.fnl` files to your project's root directory and make `tester.fnl` executable.
Alternatively, you can add tester repository as submodule, e.g. `git submodule add https://github.com/tp86/fennel-tester tester`.

Do not change names of these files, as some parts depend on them.

Then, run `./tester.fnl setup` command to install missing libraries to `.luarocks/` subdirectory. Setup command will also create some example src and test files and default settings.
Be aware that if you modify auto-generated files and run `./tester.fnl setup` again, it will overwrite any changes made.

After setup, you may run `./tester.fnl test [tests]`. `[tests]` may be files or directories containing luaunit's tests, but all recursively found fennel files will be `require`'d during process.
You can invoke `./tester.fnl test` to run test files inside `test` (default) directory, or even `./tester.fnl` (alias for `./tester.fnl test`).

To display coverage report, run `./tester.fnl cov`.

Files generated by luacov will be removed before test run.
